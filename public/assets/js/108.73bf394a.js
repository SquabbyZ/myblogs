(window.webpackJsonp=window.webpackJsonp||[]).push([[108],{515:function(t,e,s){"use strict";s.r(e);var a=s(4),n=Object(a.a)({},(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h2",{attrs:{id:"ä»€ä¹ˆæ˜¯-forever-start-node-æœåŠ¡"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ä»€ä¹ˆæ˜¯-forever-start-node-æœåŠ¡"}},[t._v("#")]),t._v(" ä»€ä¹ˆæ˜¯ forever start Node æœåŠ¡")]),t._v(" "),s("p",[s("code",[t._v("forever start Node")]),t._v(" ä¸­çš„ "),s("code",[t._v("forever")]),t._v(" æ˜¯ä¸€ä¸ªåå°å¯åŠ¨ "),s("code",[t._v("node")]),t._v(" çš„ä¾èµ–åŒ…,ä½†æ˜¯å”¯ä¸€çš„ç¼ºç‚¹æ˜¯ä½ è¦è¿›å…¥åˆ°å¯åŠ¨æ–‡ä»¶çš„å½•ä¸‹æ‰èƒ½å¤Ÿæ‰§è¡Œã€‚")]),t._v(" "),s("h2",{attrs:{id:"ä¸ºä»€ä¹ˆè¦è®¾ç½®-systemctl-æœåŠ¡å¯åŠ¨"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ä¸ºä»€ä¹ˆè¦è®¾ç½®-systemctl-æœåŠ¡å¯åŠ¨"}},[t._v("#")]),t._v(" ä¸ºä»€ä¹ˆè¦è®¾ç½® "),s("code",[t._v("systemctl")]),t._v(" æœåŠ¡å¯åŠ¨")]),t._v(" "),s("p",[t._v("è™½ç„¶æˆ‘ä»¬æœ‰äº† "),s("code",[t._v("forever")]),t._v(" ä¾èµ–åŒ…ï¼Œä½†æ˜¯æ¯æ¬¡å¯åŠ¨/åœæ­¢/é‡å¯æœåŠ¡çš„æ—¶å€™ï¼Œéƒ½éœ€è¦è¿›å…¥åˆ°é¡¹ç›®æœåŠ¡å¯åŠ¨æ–‡ä»¶çš„ç›®å½•ä¸‹æ‰å¯ä»¥æ‰§è¡Œï¼Œæ˜¾å¾—å¾ˆç¹çï¼Œè€Œä¸”å¯¹äºç»´æŠ¤æ¥è¯´éš¾åº¦å¢åŠ ï¼Œéœ€è¦æ‰¾åˆ°é¡¹ç›®æ–‡ä»¶æ‰èƒ½å¤Ÿå»æ‰§è¡Œå‘½ä»¤ï¼Œå› æ­¤æˆ‘ä»¬é‡‡ç”¨è¿™ç§æ–¹æ³•åšæˆå…¨å±€çš„æ•ˆæœè§£å†³è¿™ä¸ªé—®é¢˜.")]),t._v(" "),s("h2",{attrs:{id:"æˆ‘é…ç½®çš„æœºå™¨ä»¥åŠæˆåŠŸçš„ç¯å¢ƒ"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æˆ‘é…ç½®çš„æœºå™¨ä»¥åŠæˆåŠŸçš„ç¯å¢ƒ"}},[t._v("#")]),t._v(" æˆ‘é…ç½®çš„æœºå™¨ä»¥åŠæˆåŠŸçš„ç¯å¢ƒ")]),t._v(" "),s("ol",[s("li",[t._v("éº’éºŸ 4.0 ç³»ç»Ÿ")])]),t._v(" "),s("h2",{attrs:{id:"ä¸Šé…ç½®ä»£ç "}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ä¸Šé…ç½®ä»£ç "}},[t._v("#")]),t._v(" ä¸Šé…ç½®ä»£ç ")]),t._v(" "),s("p",[t._v("åˆ›å»ºä¸€ä¸ª "),s("code",[t._v("demo.service")]),t._v(" æ–‡ä»¶é…ç½®å¦‚ä¸‹ï¼Œå…¶ä¸­ "),s("code",[t._v("demo")]),t._v(" æ˜¯è‡ªå®šä¹‰çš„åç§°")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("[Unit]\n#[Unit]éƒ¨åˆ†ä¸»è¦æ˜¯å¯¹è¿™ä¸ªæœåŠ¡çš„è¯´æ˜ï¼Œå†…å®¹åŒ…æ‹¬Descriptionå’ŒAfterï¼ŒDescription\n\nDescription=demo #æè¿°\nAfter=network.target remote-fs.target nss-lookup.target\n\n#ç”¨äºæè¿°æœåŠ¡ï¼ŒAfterç”¨äºæè¿°æœåŠ¡ç±»åˆ«\n\n[Service]\nType=forking #æ˜¯åå°è¿è¡Œçš„å½¢å¼\nWorkingDirectory=/home/Jack1/demo #å·¥ä½œç›®å½•(ä¸»è¦æ˜¯ä½ å¯åŠ¨æ–‡ä»¶æ‰€åœ¨çš„è·¯å¾„)\nExecStart=/usr/bin/forever start app.js #å¯åŠ¨å‘½ä»¤\nExecReload=/usr/bin/forever restart app.js #é‡å¯å‘½ä»¤\nExecStop=/usr/bin/forever stop app.js #åœæ­¢å‘½ä»¤\nUser=nobody #æ‰§è¡Œçš„ç”¨æˆ·, ä¹Ÿå¯ä»¥ä½¿ç”¨æ•°å­—æ ‡è®°\nGroup=nobody #æ‰§è¡Œçš„ç”¨æˆ·ç»„, ä¹Ÿå¯ä»¥ä½¿ç”¨æ•°å­—æ ‡è®°\nPrivateTmp=true #è¡¨ç¤ºç»™æœåŠ¡åˆ†é…ç‹¬ç«‹çš„ä¸´æ—¶ç©ºé—´\nRemainAfterExit=yes #è¿›ç¨‹é€€å‡ºä»¥å,æœåŠ¡ä»ç„¶ä¿æŒæ‰§è¡Œ\n\n[Install]\n#[Install]éƒ¨åˆ†æ˜¯æœåŠ¡å®‰è£…çš„ç›¸å…³è®¾ç½®ï¼Œå¯è®¾ç½®ä¸ºå¤šç”¨æˆ·çš„\nWantedBy=multi-user.target\n\n\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br"),s("span",{staticClass:"line-number"},[t._v("17")]),s("br"),s("span",{staticClass:"line-number"},[t._v("18")]),s("br"),s("span",{staticClass:"line-number"},[t._v("19")]),s("br"),s("span",{staticClass:"line-number"},[t._v("20")]),s("br"),s("span",{staticClass:"line-number"},[t._v("21")]),s("br"),s("span",{staticClass:"line-number"},[t._v("22")]),s("br"),s("span",{staticClass:"line-number"},[t._v("23")]),s("br"),s("span",{staticClass:"line-number"},[t._v("24")]),s("br")])]),s("p",[t._v("ç„¶åå°†æ–‡ä»¶æ”¾å…¥åˆ° "),s("code",[t._v("/usr/lib/systemd/system")]),t._v("(Centos) æˆ–è€…æ˜¯ "),s("code",[t._v("/lib/systemd/system")]),t._v("(Ubuntu arm64),\næˆ‘çš„æ˜¯ "),s("code",[t._v("éº’éºŸç³»ç»Ÿ")]),t._v(",æˆ‘æ”¾å…¥çš„è·¯å¾„æ˜¯ "),s("code",[t._v("/lib/systemd/system")])]),t._v(" "),s("h3",{attrs:{id:"ä¸€èˆ¬é…ç½®å®Œæˆ–è€…ä¿®æ”¹-service-æœåŠ¡æ–‡ä»¶éœ€è¦é‡è½½é…ç½®æ–‡ä»¶"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ä¸€èˆ¬é…ç½®å®Œæˆ–è€…ä¿®æ”¹-service-æœåŠ¡æ–‡ä»¶éœ€è¦é‡è½½é…ç½®æ–‡ä»¶"}},[t._v("#")]),t._v(" ä¸€èˆ¬é…ç½®å®Œæˆ–è€…ä¿®æ”¹ service æœåŠ¡æ–‡ä»¶éœ€è¦é‡è½½é…ç½®æ–‡ä»¶")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("systemctl daemon-reload\n\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br")])]),s("h3",{attrs:{id:"å¯åŠ¨-é‡å¯-åœæ­¢æœåŠ¡"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å¯åŠ¨-é‡å¯-åœæ­¢æœåŠ¡"}},[t._v("#")]),t._v(" å¯åŠ¨/é‡å¯/åœæ­¢æœåŠ¡")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("systemctl start/restart/stop demo.service\n\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br")])]),s("h3",{attrs:{id:"æŸ¥çœ‹æœåŠ¡çŠ¶æ€"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æŸ¥çœ‹æœåŠ¡çŠ¶æ€"}},[t._v("#")]),t._v(" æŸ¥çœ‹æœåŠ¡çŠ¶æ€")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("systemctl status demo.servie\n\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br")])]),s("p",[s("strong",[t._v("è¿™ä¸ªå‘½ä»¤å¾ˆå…³é”®ï¼Œå› ä¸ºå½“ä½ é…ç½®å®Œ "),s("code",[t._v("service")]),t._v(" æ–‡ä»¶çš„æ—¶å€™ï¼ŒåŠæ—¶æ˜¯é…ç½®é”™è¯¯ï¼Œä¹Ÿä¸ä¼šåƒä½ èµ·æœåŠ¡çš„æ—¶å€™ç›´æ¥æŠ¥é”™ï¼Œå½“ä½ æµ‹è¯•å‘ç°æ‰€é…ç½®çš„æœåŠ¡æ²¡æœ‰èµ·æ¥çš„æ—¶å€™ï¼Œç”¨è¿™ä¸ªå‘½ä»¤ä¼šå‘Šè¯‰ä½ é…ç½®çš„å“ªé‡Œæœ‰é—®é¢˜")])]),t._v(" "),s("h3",{attrs:{id:"è®¾ä¸ºå¼€æœºå¯åŠ¨"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#è®¾ä¸ºå¼€æœºå¯åŠ¨"}},[t._v("#")]),t._v(" è®¾ä¸ºå¼€æœºå¯åŠ¨")]),t._v(" "),s("p",[t._v("ä¸€èˆ¬çš„æƒ…å†µä¸‹åªéœ€è¦æ‰§è¡Œä¸‹é¢çš„å‘½ä»¤å³å¯:")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("systemctl enable demo.service // demo.service å°±æ˜¯ä½ è‡ªå®šä¹‰çš„æœåŠ¡æ–‡ä»¶çš„æ–‡ä»¶å\n\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br")])]),s("p",[t._v("ä½†æ˜¯ï¼Œæˆ‘ä½¿ç”¨çš„æ˜¯éº’éºŸçš„ç³»ç»Ÿï¼Œè™½ç„¶é…ç½®ä¸Šäº†ï¼Œä½†æ˜¯é‡å¯æœåŠ¡å™¨æ ¹æœ¬ä¸ç®¡ç”¨ï¼Œé‚£å°±ç”¨ä¸‹é¢çš„æ–¹æ³•")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("vim /etc/rc.local //ç›´æ¥åœ¨å¼€æœºè‡ªå¯çš„æ–‡ä»¶é‡ŒåŠ å…¥ `systemctl start demo.service` ä¿å­˜é€€å‡ºå³å¯\n\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br")])]),s("h2",{attrs:{id:"é…ç½®æ–‡ä»¶çš„åŒºå—"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#é…ç½®æ–‡ä»¶çš„åŒºå—"}},[t._v("#")]),t._v(" é…ç½®æ–‡ä»¶çš„åŒºå—")]),t._v(" "),s("p",[t._v("[Unit]åŒºå—é€šå¸¸æ˜¯é…ç½®æ–‡ä»¶çš„ç¬¬ä¸€ä¸ªåŒºå—ï¼Œç”¨æ¥å®šä¹‰ Unit çš„å…ƒæ•°æ®ï¼Œä»¥åŠé…ç½®ä¸å…¶ä»– Unit çš„å…³ç³»ã€‚å®ƒçš„ä¸»è¦å­—æ®µå¦‚ä¸‹ã€‚")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",{staticStyle:{"text-align":"center"}},[t._v("Key")]),t._v(" "),s("th",{staticStyle:{"text-align":"center"}},[t._v("Description")])])]),t._v(" "),s("tbody",[s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("Description")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("ç®€çŸ­æè¿°")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("Documentation")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("æ–‡æ¡£åœ°å€")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("Requires")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("å½“å‰ Unit ä¾èµ–çš„å…¶ä»– Unitï¼Œå¦‚æœå®ƒä»¬æ²¡æœ‰è¿è¡Œï¼Œå½“å‰ Unit ä¼šå¯åŠ¨å¤±è´¥")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("Wants")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("ä¸å½“å‰ Unit é…åˆçš„å…¶ä»– Unitï¼Œå¦‚æœå®ƒä»¬æ²¡æœ‰è¿è¡Œï¼Œå½“å‰ Unit ä¸ä¼šå¯åŠ¨å¤±è´¥")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("BindsTo")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("ä¸ Requires ç±»ä¼¼ï¼Œå®ƒæŒ‡å®šçš„ Unit å¦‚æœé€€å‡ºï¼Œä¼šå¯¼è‡´å½“å‰ Unit åœæ­¢è¿è¡Œ")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("Before")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("å¦‚æœè¯¥å­—æ®µæŒ‡å®šçš„ Unit ä¹Ÿè¦å¯åŠ¨ï¼Œé‚£ä¹ˆå¿…é¡»åœ¨å½“å‰ Unit ä¹‹åå¯åŠ¨")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("After")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("å¦‚æœè¯¥å­—æ®µæŒ‡å®šçš„ Unit ä¹Ÿè¦å¯åŠ¨ï¼Œé‚£ä¹ˆå¿…é¡»åœ¨å½“å‰ Unit ä¹‹å‰å¯åŠ¨")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("Conflicts")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("è¿™é‡ŒæŒ‡å®šçš„ Unit ä¸èƒ½ä¸å½“å‰ Unit åŒæ—¶è¿è¡Œ")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("Condition...")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("å½“å‰ Unit è¿è¡Œå¿…é¡»æ»¡è¶³çš„æ¡ä»¶ï¼Œå¦åˆ™ä¸ä¼šè¿è¡Œ")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("Environment")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("æŒ‡å®šç¯å¢ƒå˜é‡")])])])]),t._v(" "),s("p",[s("strong",[t._v("Unit é…ç½®æ–‡ä»¶çš„å®Œæ•´å­—æ®µæ¸…å•ï¼Œè¯·å‚è€ƒ"),s("a",{attrs:{href:"https://www.freedesktop.org/software/systemd/man/systemd.unit.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("å®˜æ–¹æ–‡æ¡£"),s("OutboundLink")],1),t._v(".")])]),t._v(" "),s("p",[t._v("æ¬¢è¿è¯„è®ºç•™è¨€ ğŸ˜ƒ")])])}),[],!1,null,null,null);e.default=n.exports}}]);