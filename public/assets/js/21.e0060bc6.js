(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{425:function(a,t,e){"use strict";e.r(t);var s=e(4),r=Object(s.a)({},(function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[e("h2",{attrs:{id:"概述"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#概述"}},[a._v("#")]),a._v(" 概述")]),a._v(" "),e("p",[a._v("我们开发的时候,经常自定义镜像,然后 commit 提交成镜像到本地仓库,但是我们发布到客户服务器的时候,可以用前面的 hub 官方,或者阿里云,但是有些机密性的项目,是禁止公网存储的,所以我们只能通过 docker 镜像备份和迁移实现")]),a._v(" "),e("h2",{attrs:{id:"实现"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#实现"}},[a._v("#")]),a._v(" 实现")]),a._v(" "),e("h3",{attrs:{id:"备份镜像"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#备份镜像"}},[a._v("#")]),a._v(" 备份镜像:")]),a._v(" "),e("p",[e("code",[a._v("docker save -o 备份镜像的名称 镜像源名称:tag版本(或者镜像ID)")])]),a._v(" "),e("p",[a._v("such as:(备份到当前路径下)")]),a._v(" "),e("p",[e("code",[a._v("docker save -o centos7-5.tar centos:7.5")])]),a._v(" "),e("h3",{attrs:{id:"恢复镜像"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#恢复镜像"}},[a._v("#")]),a._v(" 恢复镜像")]),a._v(" "),e("p",[e("code",[a._v("docker load -i 镜像文件")]),a._v("\nsuch as:")]),a._v(" "),e("p",[e("code",[a._v("docker load -i centos7-5.tar")])]),a._v(" "),e("p",[a._v("导入后发现,镜像的名字和 TAG 都是 "),e("code",[a._v("<none>")]),a._v(",需要我们手动添加")]),a._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[a._v("docker tag cf49811e3cdb centos// centos就是镜像的名字\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])])])}),[],!1,null,null,null);t.default=r.exports}}]);