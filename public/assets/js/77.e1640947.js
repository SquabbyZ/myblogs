(window.webpackJsonp=window.webpackJsonp||[]).push([[77],{485:function(s,n,a){"use strict";a.r(n);var e=a(4),t=Object(e.a)({},(function(){var s=this,n=s.$createElement,a=s._self._c||n;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h2",{attrs:{id:"准备工作"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#准备工作"}},[s._v("#")]),s._v(" 准备工作")]),s._v(" "),a("h3",{attrs:{id:"gcc-和-g-在-linux-系统中必须有"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#gcc-和-g-在-linux-系统中必须有"}},[s._v("#")]),s._v(" gcc 和 g++ 在 Linux 系统中必须有")]),s._v(" "),a("p",[s._v("可以使用下面的命令来测试是否有 gcc 和 g++")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("yum "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" -y gcc gcc-c++\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("也可以使用下面的命令")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("gcc\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("提示你编译失败,就证明已经安装。")]),s._v(" "),a("h3",{attrs:{id:"准备-nginx-的安装包和-pcre-zlib-openssl-三个安装包"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#准备-nginx-的安装包和-pcre-zlib-openssl-三个安装包"}},[s._v("#")]),s._v(" 准备 Nginx 的安装包和 pcre zlib openssl 三个安装包")]),s._v(" "),a("p",[s._v("我这里用的是 Nginx-1.3.1 pcre-8.31 zlib-1.2.3 openssl-1.0.1.c")]),s._v(" "),a("h3",{attrs:{id:"安装-nginx-依赖包"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装-nginx-依赖包"}},[s._v("#")]),s._v(" 安装 Nginx 依赖包")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("   "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" home/\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("切换到 home 目录下")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("   "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" Jack\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("创建一个名字为 Jack 的文件(特意说明下，Jack 就是你的非 root 的登录名),并且创建一个名为 nginx-server 的文件夹用来存放 nginx")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("   "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" Jack/\n   "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" nginx-server\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("进入到 Jack 文件夹内，然后把安装包跟依赖包到考入到该目录下")]),s._v(" "),a("p",[s._v("之后我们逐步安装：")]),s._v(" "),a("ol",[a("li",[s._v("安装 pcre")])]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("tar")]),s._v(" -zxvf pcre-8.31.tar.gz\n\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" pcre-8.31\n\n./configure\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("su")]),s._v("\n\n你的 root 登录密码\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("su")]),s._v(" Jack\n\n你的 Jack 用户登录密码\n\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("/\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br")])]),a("ol",{attrs:{start:"2"}},[a("li",[s._v("安装 openssl")])]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("tar")]),s._v(" -zxvf openssl-1.0.1.c.tar.gz\n\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" openssl-1.0.1.c\n\n./config\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("su")]),s._v("\n\n你的 root 登录密码\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("su")]),s._v(" Jack\n\n你的 Jack 用户登录密码\n\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("/\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br")])]),a("ol",{attrs:{start:"3"}},[a("li",[s._v("安装 zlib")])]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("tar")]),s._v(" -zxvf zlib-1.2.3.tar.gz\n\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" zlib-1.2.3\n\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("CFLAGS")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"-O3 -fPIC"')]),s._v(" ./configure\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("su")]),s._v("\n\n你的 root 登录密码\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("su")]),s._v(" Jack\n\n你的 Jack 用户登录密码\n\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("/\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br")])]),a("ol",{attrs:{start:"4"}},[a("li",[s._v("安装 nginx")])]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("    "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("tar")]),s._v(" -zxvf nginx.1.3.1.tar.gz\n\n    "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" nginx-1.3.1\n\n    ./configure --prefix"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/home/Jack/nginx-server --with-pcre"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/home/Jack/pcre-8.31 --with-openssl"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/home/Jack/openssl-1.0.1.c --with-zlib"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/home/Jack/zlib-1.2.3\n\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("su")]),s._v("\n\n    你的 root 登录密码\n\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("su")]),s._v(" Jack\n\n    你的 Jack 用户登录密码\n\n    "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("/\n\n    "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" nginx-server\n\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br")])]),a("p",[s._v("ls 之后你可以看到 conf html sbin 等 4 个文件")]),s._v(" "),a("p",[s._v("然后")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" sbin/\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" ./nginx -v\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("显示出 nginx-1.3.1 ,就证明安装成功")]),s._v(" "),a("h3",{attrs:{id:"nginx-安装成功后，起项目报错问题以及解决办法"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#nginx-安装成功后，起项目报错问题以及解决办法"}},[s._v("#")]),s._v(" Nginx 安装成功后，起项目报错问题以及解决办法")]),s._v(" "),a("ol",[a("li",[a("p",[s._v("Nginx 启动报错: nginx :[alert] could not open error log file.....\n"),a("strong",[a("em",[s._v('解决办法: 在非 root 登录下 使用 "sudo ./nginx"，之后输入 Jack 的登录密码即可')])])])]),s._v(" "),a("li",[a("p",[s._v('Nginx 启动报错: nginx: [emerg] the "ssl" paramter requires ngx_http_module in /home/Jack/nginx-server/conf/nginx.conf:102')])])]),s._v(" "),a("p",[a("strong",[a("em",[s._v("解决办法: 进入到之前解压完的 nginx 的目录下，重新输入如下代码(执行前记得备份 /home/Jack1/nginx-server/conf/nginx-conf)，如果不需要请忽略()中的内容")])])]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("\n./configure --prefix"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/home/Jack/nginx-server --with-pcre"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/home/Jack/pcre-8.31 --with-openssl"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/home/Jack/openssl-1.0.1.c --with-zlib"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/home/Jack/zlib-1.2.3 --with-http_stub_status_module --with-http_ssl_module\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("su")]),s._v("\n\n你的 root 登录密码\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v("\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br")])]),a("ol",{attrs:{start:"3"}},[a("li",[s._v('nginx 启动报: "[emerg] bind() to 0.0.0.0:XXXX failed(13: Permission denied)"')])]),s._v(" "),a("p",[s._v('解决方法: 1. 端口小于 1024 情况:\n报错举例: "[emerg] bind() to 0.0.0.0:80 failed(13: Permission denied)"\n原因是因为 1024 以下端口启动时需要 root 权限，所以切换到 root 下，在启动即可，但是这个不适合于我们这种在非 root 账号下启动 nginx 的需求。')]),s._v(" "),a("ol",{attrs:{start:"2"}},[a("li",[s._v('端口大于 1024 情况:报错举例: "[emerg] bind() to 0.0.0.0:8300 failed(13: Permission denied)"这种情况，我们需要先查询下 http 允许访问的端口:')])]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("\n         firewall-cmd --zone"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("public --list-ports\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("没有我们需要的端口，因此需要我们手动添加，执行下面的命令")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("\n         firewall-cmd --zone"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("public --add-port"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8300")]),s._v("/tcp --permanent    //（--permanent永久生效，没有此参数重启后失效）\n\n         firewall-cmd --reload\n\n         firewall-cmd --zone"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" public --query-port"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),s._v("/tcp\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("ol",{attrs:{start:"4"}},[a("li",[s._v('升级 Nginx 到 15.0 以上的版本后,会报 "nginx: [warn] the "ssl" directive is deprecated, use the "listen ... ssl" directive instead in /usr/local/nginx/conf/nginx.conf"')])]),s._v(" "),a("p",[s._v("问题分析\n这是一个 warn 警告,nginx 也能正常使用，但是由于强迫症，还是要把 warn 解决掉。")]),s._v(" "),a("p",[s._v("根据翻译，nginx 提示 ssl 这个指令已经不建议使用，要使用 listen ... ssl 替代。网上查找 nginx 更新日志里面，也有提到：")]),s._v(" "),a("p",[s._v("Change: the “ssl” directive is deprecated; the “ssl” parameter of the “listen” directive should be used instead.\n1\nssl 不建议作为一个指令使用，而是应该 listen 指令的一个参数。")]),s._v(" "),a("p",[s._v("解决方法\n直接删除 ssl on 就行了。")]),s._v(" "),a("ol",{attrs:{start:"5"}},[a("li",[s._v("nginx 如何隐藏版本信息号")])]),s._v(" "),a("p",[s._v("解决方法: 在 nginx 安装的目录下，进入到 conf/ 目录里，打开 nginx.conf 文件，在 http:{}中加入下面的代码即可")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("\nserver_tokens off"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("ol",{attrs:{start:"6"}},[a("li",[s._v('nginx 启动报错:" forbidden 403 "')])]),s._v(" "),a("p",[s._v('解决方法：\n/conf/nginx.conf 中设置 user : 你运行的 ./nginx 的当前用户\n或者用 "ll" 命令查看，你装 nginx 的那个目录的所有者是不是你当前的用户。')]),s._v(" "),a("p",[s._v("7 nginx 启动正常， curl 地址 显示正常，就是浏览器无法访问\n解决办法：把对应的端口打开即可\nfirewall-cmd --zone=public --add-port=你要添加的端口/tcp --permanent （--permanent 永久生效，没有此参数重启后失效）\nsystemctl restart firewalld.service 即可。")]),s._v(" "),a("p",[s._v("8 安装编译 openssl 的时候，在执行 make 的时候最后会报 "),a("code",[s._v("***[confiugdata.pm] 错误1")]),s._v(" ,而无法完成 openssl 的安装编译————"),a("span",{staticStyle:{color:"red"}},[s._v(" openssl 的 tar 压缩包的版本太新，高于服务器的本机时间，所以会报这个问题")]),s._v("\n解决方法: 更新本机服务器的时间即可执行下面的命令:")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("date")]),s._v(" -s "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"2020-03-10 15:28:30"')]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("date")]),s._v("\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("p",[s._v("显示的是你修改的时间即可")]),s._v(" "),a("h1",{attrs:{id:"附录："}},[a("a",{staticClass:"header-anchor",attrs:{href:"#附录："}},[s._v("#")]),s._v(" 附录：")]),s._v(" "),a("p",[s._v("1.firewalld 的基本使用")]),s._v(" "),a("p",[s._v("启动： systemctl start firewalld\n查看状态： systemctl status firewalld\n停止： systemctl disable firewalld\n禁用： systemctl stop firewalld")]),s._v(" "),a("ol",{attrs:{start:"2"}},[a("li",[s._v("systemctl 是 CentOS7 的服务管理工具中主要的工具，它融合之前 service 和 chkconfig 的功能于一体。")])]),s._v(" "),a("p",[s._v("启动一个服务：systemctl start firewalld.service\n关闭一个服务：systemctl stop firewalld.service\n重启一个服务：systemctl restart firewalld.service\n显示一个服务的状态：systemctl status firewalld.service\n在开机时启用一个服务：systemctl enable firewalld.service\n在开机时禁用一个服务：systemctl disable firewalld.service\n查看服务是否开机启动：systemctl is-enabled firewalld.service\n查看已启动的服务列表：systemctl list-unit-files|grep enabled\n查看启动失败的服务列表：systemctl --failed")]),s._v(" "),a("ol",{attrs:{start:"3"}},[a("li",[s._v("配置 firewalld-cmd")])]),s._v(" "),a("p",[s._v("查看版本： firewall-cmd --version\n查看帮助： firewall-cmd --help\n显示状态： firewall-cmd --state\n查看所有打开的端口： firewall-cmd --zone=public --list-ports\n更新防火墙规则： firewall-cmd --reload\n查看区域信息: firewall-cmd --get-active-zones\n查看指定接口所属区域： firewall-cmd --get-zone-of-interface=eth0\n拒绝所有包：firewall-cmd --panic-on\n取消拒绝状态： firewall-cmd --panic-off\n查看是否拒绝： firewall-cmd --query-panic")]),s._v(" "),a("h2",{attrs:{id:"那怎么开启一个端口呢"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#那怎么开启一个端口呢"}},[s._v("#")]),s._v(" 那怎么开启一个端口呢")]),s._v(" "),a("p",[s._v("添加\nfirewall-cmd --zone=public --add-port=80/tcp --permanent （--permanent 永久生效，没有此参数重启后失效）\n重新载入\nfirewall-cmd --reload\n或者\nsystemctl restart firewalld.service\n查看\nfirewall-cmd --zone= public --query-port=80/tcp\n删除\nfirewall-cmd --zone= public --remove-port=80/tcp --permanent")]),s._v(" "),a("p",[s._v("nginx 启动 命令 ./nginx\nnginx 关闭命令 ./nginx -s stop\nnginx 查看端口是否启动命名 ps -aux | grep nginx")]),s._v(" "),a("p",[a("strong",[s._v("把当前文件夹的所有者修改为 owner 的方法")])]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("chown")]),s._v(" owner * -R\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[a("strong",[s._v("把当前文件夹的所属组修改为 owner 的方法")])]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("chgrp")]),s._v(" owner * -R\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])])])}),[],!1,null,null,null);n.default=t.exports}}]);