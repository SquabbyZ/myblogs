(window.webpackJsonp=window.webpackJsonp||[]).push([[83],{488:function(s,n,a){"use strict";a.r(n);var e=a(4),r=Object(e.a)({},(function(){var s=this,n=s.$createElement,a=s._self._c||n;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h2",{attrs:{id:"nginx-代理概念"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#nginx-代理概念"}},[s._v("#")]),s._v(" Nginx 代理概念")]),s._v(" "),a("p",[s._v("所谓代理,说白了就是相当于中介，整个代理的效果就是跟你租房子的中介，按照你的要求给你匹配和你的要求差不多的房源")]),s._v(" "),a("h2",{attrs:{id:"正向代理和反向代理的区别"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#正向代理和反向代理的区别"}},[s._v("#")]),s._v(" 正向代理和反向代理的区别")]),s._v(" "),a("p",[a("strong",[s._v("正向代理代理客户端，反向代理代理服务器")])]),s._v(" "),a("h2",{attrs:{id:"直接上代理配置文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#直接上代理配置文件"}},[s._v("#")]),s._v(" 直接上代理配置文件")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("\n#user  nobody; # 使用用户\nworker_processes  1;\n\nevents {\n    worker_connections  1024;\n}\n\n\nhttp {\n    include       mime.types;\n    default_type  application/octet-stream;\n\n\n    sendfile        on;\n\n    keepalive_timeout  65;\n\n    upstream bigGeoDataEngine_wgs84{ #基础\n        server 192.168.1.96:3500 weight=3;\n        server 192.168.1.106:3500 weight=3; #weight 可以理解为权重值\n    }\n\n     upstream bigGeoDataEngine_tm{ #历史\n        server 192.168.1.96:7000 weight=3;\n        server 192.168.1.106:7000 weight=3;\n    }\n\n\n\n    server {\n        listen       3400;\n        server_name  192.168.1.96;\n\n        #charset koi8-r;\n\n        # access_log  logs/big.server.access.log  main; #自定义日志文件输入地址，以及文件名称\n        proxy_buffers 4 1024k; #设置用于读取应答(来自服务器)的缓冲区数目和大小，默认情况也为分页大小，根据操作系统的不同可能是4K或者8K\n        proxy_busy_buffers_size 1024k;\n        proxy_temp_file_write_size 1024k; #设置在写入 proxy_temp_path时数据的大小，预防一个工作进程在传递文件时候阻塞太长\n        client_body_buffer_size 1024k; #如果把它设置为比较大的值,例如1024k，那么，无论使用FireFox还是IE浏览器，来提交任意小于1024k的图片，都很正常。如果不设置采用默认的效果，也就是8k-16k，根据操作系统页面的大小2倍的值\n        proxy_intercept_errors on;\n\n\n        location / {\n            proxy_pass  http://bigGeoDataEngine_wgs84;\n            # root   html;\n            # index  index.html index.htm;\n\n        }\n\n        #error_page  404              /404.html;\n\n        # redirect server error pages to the static page /50x.html\n        #\n        error_page   500 502 503 504  /50x.html;\n        location = /50x.html {\n            root   html;\n        }\n\n    }\n\n        server {\n        listen       3401;\n        server_name  192.168.1.96;\n\n        #charset koi8-r;\n\n        # access_log  logs/big.server.access.log  main;\n        proxy_buffers 4 1024k; #设置用于读取应答(来自服务器)的缓冲区数目和大小，默认情况也为分页大小，根据操作系统的不同可能是4K或者8K\n        proxy_busy_buffers_size 1024k;\n        proxy_temp_file_write_size 1024k; #设置在写入 proxy_temp_path时数据的大小，预防一个工作进程在传递文件时候阻塞太长\n        client_body_buffer_size 1024k; #如果把它设置为比较大的值,例如1024k，那么，无论使用FireFox还是IE浏览器，来提交任意小于1024k的图片，都很正常。如果不设置采用默认的效果，也就是8k-16k，根据操作系统页面的大小2倍的值\n        proxy_intercept_errors on;\n\n\n        location / {\n            proxy_pass  http://bigGeoDataEngine_tm;\n            # proxy_set_header X-Real-IP $ remote_addr;\n            # root   html;\n            # index  index.html index.htm;\n\n        }\n\n        #error_page  404              /404.html;\n\n        # redirect server error pages to the static page /50x.html\n        #\n        error_page   500 502 503 504  /50x.html;\n        location = /50x.html {\n            root   html;\n        }\n\n\n\n}\n\n\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br"),a("span",{staticClass:"line-number"},[s._v("37")]),a("br"),a("span",{staticClass:"line-number"},[s._v("38")]),a("br"),a("span",{staticClass:"line-number"},[s._v("39")]),a("br"),a("span",{staticClass:"line-number"},[s._v("40")]),a("br"),a("span",{staticClass:"line-number"},[s._v("41")]),a("br"),a("span",{staticClass:"line-number"},[s._v("42")]),a("br"),a("span",{staticClass:"line-number"},[s._v("43")]),a("br"),a("span",{staticClass:"line-number"},[s._v("44")]),a("br"),a("span",{staticClass:"line-number"},[s._v("45")]),a("br"),a("span",{staticClass:"line-number"},[s._v("46")]),a("br"),a("span",{staticClass:"line-number"},[s._v("47")]),a("br"),a("span",{staticClass:"line-number"},[s._v("48")]),a("br"),a("span",{staticClass:"line-number"},[s._v("49")]),a("br"),a("span",{staticClass:"line-number"},[s._v("50")]),a("br"),a("span",{staticClass:"line-number"},[s._v("51")]),a("br"),a("span",{staticClass:"line-number"},[s._v("52")]),a("br"),a("span",{staticClass:"line-number"},[s._v("53")]),a("br"),a("span",{staticClass:"line-number"},[s._v("54")]),a("br"),a("span",{staticClass:"line-number"},[s._v("55")]),a("br"),a("span",{staticClass:"line-number"},[s._v("56")]),a("br"),a("span",{staticClass:"line-number"},[s._v("57")]),a("br"),a("span",{staticClass:"line-number"},[s._v("58")]),a("br"),a("span",{staticClass:"line-number"},[s._v("59")]),a("br"),a("span",{staticClass:"line-number"},[s._v("60")]),a("br"),a("span",{staticClass:"line-number"},[s._v("61")]),a("br"),a("span",{staticClass:"line-number"},[s._v("62")]),a("br"),a("span",{staticClass:"line-number"},[s._v("63")]),a("br"),a("span",{staticClass:"line-number"},[s._v("64")]),a("br"),a("span",{staticClass:"line-number"},[s._v("65")]),a("br"),a("span",{staticClass:"line-number"},[s._v("66")]),a("br"),a("span",{staticClass:"line-number"},[s._v("67")]),a("br"),a("span",{staticClass:"line-number"},[s._v("68")]),a("br"),a("span",{staticClass:"line-number"},[s._v("69")]),a("br"),a("span",{staticClass:"line-number"},[s._v("70")]),a("br"),a("span",{staticClass:"line-number"},[s._v("71")]),a("br"),a("span",{staticClass:"line-number"},[s._v("72")]),a("br"),a("span",{staticClass:"line-number"},[s._v("73")]),a("br"),a("span",{staticClass:"line-number"},[s._v("74")]),a("br"),a("span",{staticClass:"line-number"},[s._v("75")]),a("br"),a("span",{staticClass:"line-number"},[s._v("76")]),a("br"),a("span",{staticClass:"line-number"},[s._v("77")]),a("br"),a("span",{staticClass:"line-number"},[s._v("78")]),a("br"),a("span",{staticClass:"line-number"},[s._v("79")]),a("br"),a("span",{staticClass:"line-number"},[s._v("80")]),a("br"),a("span",{staticClass:"line-number"},[s._v("81")]),a("br"),a("span",{staticClass:"line-number"},[s._v("82")]),a("br"),a("span",{staticClass:"line-number"},[s._v("83")]),a("br"),a("span",{staticClass:"line-number"},[s._v("84")]),a("br"),a("span",{staticClass:"line-number"},[s._v("85")]),a("br"),a("span",{staticClass:"line-number"},[s._v("86")]),a("br"),a("span",{staticClass:"line-number"},[s._v("87")]),a("br"),a("span",{staticClass:"line-number"},[s._v("88")]),a("br"),a("span",{staticClass:"line-number"},[s._v("89")]),a("br"),a("span",{staticClass:"line-number"},[s._v("90")]),a("br"),a("span",{staticClass:"line-number"},[s._v("91")]),a("br"),a("span",{staticClass:"line-number"},[s._v("92")]),a("br"),a("span",{staticClass:"line-number"},[s._v("93")]),a("br"),a("span",{staticClass:"line-number"},[s._v("94")]),a("br"),a("span",{staticClass:"line-number"},[s._v("95")]),a("br"),a("span",{staticClass:"line-number"},[s._v("96")]),a("br"),a("span",{staticClass:"line-number"},[s._v("97")]),a("br"),a("span",{staticClass:"line-number"},[s._v("98")]),a("br"),a("span",{staticClass:"line-number"},[s._v("99")]),a("br")])]),a("h2",{attrs:{id:"其它反向代理指令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#其它反向代理指令"}},[s._v("#")]),s._v(" 其它反向代理指令")]),s._v(" "),a("p",[s._v("反向代理还有些常用的指令，我在这里给大家列出：")]),s._v(" "),a("ol",[a("li",[a("p",[s._v("proxy_set_header :在将客户端请求发送给后端服务器之前，更改来自客户端的请求头信息。")])]),s._v(" "),a("li",[a("p",[s._v("proxy_connect_timeout:配置Nginx与后端代理服务器尝试建立连接的超时时间。")])]),s._v(" "),a("li",[a("p",[s._v("proxy_read_timeout : 配置Nginx向后端服务器组发出read请求后，等待相应的超时时间。")])]),s._v(" "),a("li",[a("p",[s._v("proxy_send_timeout：配置Nginx向后端服务器组发出write请求后，等待相应的超时时间。")])]),s._v(" "),a("li",[a("p",[s._v("proxy_redirect :用于修改后端服务器返回的响应头中的Location和Refresh。")])])])])}),[],!1,null,null,null);n.default=r.exports}}]);